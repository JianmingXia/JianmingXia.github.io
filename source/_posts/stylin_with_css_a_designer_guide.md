---
title: CSS设计指南——总结
date: 2018/08/10 09:30:00
tags:
  - CSS
  - 阅读笔记
categories: CSS
---

## 写在前面
作为一名“全沾工程师”，CSS一直是我最薄弱的一点，但是平时看文档得到的成长还是太小，因为CSS语言的特性，很多属性结合起来才能实现某个效果，牵一发而动全身，所以还是觉得老老实实啃一本CSS书籍比较好。
在看这本书之前，也翻阅了《CSS世界》及《CSS揭秘》，个人觉得如果基础比较薄弱的（比如像我这样的），先看《CSS设计指南》这本书收获会更大。

<!-- more -->

## HTML标记与文档结构

### HTML标记基础

- 闭合标签
- 非闭合标签

#### 文本用闭合标签

如：<标签名 属性_1="属性值">文本内容</标签名>

#### 引用内容用自闭合标签

如：<标签名 属性_1="属性值" />

#### 属性

属性负责为浏览器提供有关标签的额外信息

#### 标题和段落

#### 复合元素

定义：由多个标签共同组成的

如：ol或ul中的li

#### 嵌套标签

即在一个标签中嵌套另一个标签

### HTML文档剖析
可以考虑下搜索引擎优化的内容

#### 块级元素和行内元素

#### 嵌套的元素

### 文档对象模型

理解创建的DOM

### 小结

- 块级元素和行内元素的差别
- DOM

## CSS 工作原理

### 上下文选择符
严格来讲——后代组合式选择符
一组以空格分割的标签名，用于选择作为指定祖先元素后台的标签

### 特殊的上下文选择符
#### 子选择符>
如：标签1 > 标签2
标签2必须是标签1的子元素

#### 紧邻同胞选择符+
如：标签1 + 标签2
标签2必须紧跟在其同胞标签1的后面

#### 一般同胞选择符~
如：标签1 ~ 标签2
标签2必须要跟（不一定紧跟）在其同胞标签1后面

#### 通用选择符*
匹配任何元素

### ID和类选择符
#### 类选择符
如： .类名

#### 标签带类选择符
如：标签名.类名

#### 多类选择符
如：.类名.类名
两个类名之间没有空格，加了空格会变成“祖先/后代”关系的上下文选择符

#### ID
使用与上述类属性类似

#### ID VS 类选择符
- ID表示的是页面中唯一的HTML元素
- 类是为了标识一组具有相同特征的元素

### 属性选择符
#### 属性名选择符
如：标签名[属性名]

#### 属性值选择符
如：标签名[属性名="属性值"]

### 伪类
#### UI伪类
##### 链接伪类
四个状态：
- Link：链接正准备被点击
- Visited：点击过
- Hover：鼠标悬停
- Active：鼠标已按下

四个伪类选择符：
- a:link
- a:visited
- a:hover
- a:active

按顺序使用~~~

##### :focus 伪类
如：[标签]:focus
比如表单中的文本字段在用户单击它的时候获得焦点

##### :target 伪类
如：[标签]:target

#### 结构化伪类
结构化伪类可以根据标记的结构应用样式
##### :first-child :last-child

##### :nth-child
如：e:nth-child(n)
e表示元素名，n表示一个数值（也可以使用odd和even）

### 伪元素

- 伪元素就是文档中若有若无的元素
- 需要注意的是，**搜索引擎不会取得伪元素的信息**

#### ::first-letter伪元素

如：e::first-letter

设置首字符样式

#### ::first-line

如：e::first-line

选中文本段落的第一行

#### ::before ::after

如： e::before e::after

可用于在特定元素前后添加特殊内容

### 继承

可继承的属性：颜色、字体、字号等

需要注意到，很多属性是不可继承的：主要涉及到元素盒子的定位和显示方式，如边框、外边距、内边距等。

### 层叠

是一种样式在文档层次中逐层叠加的过程

#### 样式来源

浏览器层叠样式的顺序：

- 浏览器默认样式表
- 用户样式表
- 作者链接样式表（按照它们链接到页面的先后顺序）
- 作者嵌入样式
- 作者行内样式

#### 层叠规则

- 找到应用给每个元素或属性的所有声明
- 按照顺序和权重排序（权重：如!important)
- 按特指度排序
- 顺序决定权重——如果两个同样特指度影响同一个属性，则位置最靠下的规则胜出

#### 计算特指度

如公式： I-C-E

- 选择符有ID——在I的位置加上1
- 选择符有类——在C的位置加上1
- 选择符有元素（标签）名——在E的位置加上1
- 得到一个三位数

### 规则声明

#### 文本值

所有CSS属性都有文本值——与文本值不同，数字值和颜色值的书写方式是有限的

#### 数字值

如：

- em——表示一种字体中字母M的宽度
- ex——等于给定字体中字母x的高度

#### 颜色值

##### 颜色名(如red)

##### 十六进制颜色（#RRGGBB 或 #RGB）

##### RGB颜色值（R, G, B）

如： rgb(r, g, b)

##### RGB百分比值（R%, G%, B%）

如： r%, g%, b%

##### HSL(色相，饱和度%，亮度%)

如：HSL(0, 0%, 0%)

##### Alpha通道

RGB和HSL都支持Alpha通道，用于设置颜色的不透明度

### 小结

- CSS选择符
- 样式是如何生效的

## 定位元素

### 理解盒模型

#### 盒子边框

3个相关属性（第4个属性是border-radius）：

- 宽度：默认值medium
- 样式：默认值none
- 颜色：默认值black

#### 盒子内边距

内边距是盒子内容区与盒子边框之间的距离

#### 盒子外边距

#### 叠加外边距

叠加规则：

- 正正取大值
- 正负值相加
- 负负最负值

#### 外边距的单位

根据经验（作者的经验），为文本元素设置外边距时通常需要混合使用不同的单位：

- 左右边距使用像素，以便该段文本始终与包含元素边界保持固定边距，不受字号变大或变小的影响
- 上下边距使用em，则可以让段间距随字号变化而相应的增大或缩小

### 盒子有多大

#### 没有宽度的盒子

所谓“没有宽度”——是指没有显式地设置元素的width属性

结论1：没有宽度的元素始终会扩展到填满父元素的宽度为止——添加水平边框、内边距和外边距，会导致内容宽度减少

#### 有宽度的盒子

结论2：为设定了宽度的盒子添加边框、内边距和外边距，会导致盒子拓展得更宽——实际上，盒子的width属性设定的只是盒子内容区的宽度

#### box-sizing

通过它可以将有宽度的盒子也设定具有默认的auto状态下的行为

### 浮动与清除

浮动的内容已经脱离了文档流，因而无论原先在标记中包含它还是跟随它的元素，其布局都会受到它的影响。

#### 浮动

CSS设计float属性的主要目的，是为了实现文字绕排图片的效果。

##### 文字绕排图片

浮动图片会从文档流中被移除，如果在标记中有文本元素跟在后面，则其中的文本会绕开图片

##### 创建分栏

同时使用float属性

#### 围住浮动元素的三种方法

浮动元素脱离文档流后，会对原有的布局产生很大的影响。

##### 方法一：为父元素添加overflow:hidden

处理方法很简单，但是不太直观——overflow:hidden声明的真正用途是防止包含元素被超大内容撑大；当然另一作用就是能可靠地迫使父元素包含其浮动的子元素

##### 方法二：同时浮动父元素

需要注意的是，浮动父元素后，后面的块级元素需要设置clear: left

##### 方法三：添加非浮动的清除元素

可以在父元素内容的末尾添加非浮动元素 或者 通过给父元素添加clearfix类（当然，样式表中需要有对应的clearfix规则）

##### 如何选择

哪些场景不能使用：

- 不能在下拉菜单的顶级元素上应用overflow: hidden，否则其子元素下拉菜单就不会显示了——下拉菜单实际上是在其父元素区域的外部显示
- 不能对已经靠自动外边距居中的元素使用”浮动父元素“

### 定位

默认值是static，在此主要说以下4类：

- static
- relative
- absolute
- fixed

#### 静态定位

在静态定位的情况下，每个元素都处于常规文档流中。

#### 相对定位

需要注意，除了自己相对于**原始位置**挪动了一下之外，页面没有发生任何变化。

使用相对定位的关键是——考虑到元素原来的空间，避免页面出现遮罩（当然如果目的正是为了遮罩，那另说）

#### 绝对定位

绝对定位与静态定位、相对定位比，绝对不一样——绝对定位会把元素彻底从文档流中拿出来

此时设置的定位也与相对定位有较大差异，定位相对于**祖先容器**

#### 固定定位

与绝对定位类似，也是脱离文档流的

不同之处在于——固定定位元素的定位上下文是视口（浏览器窗口或手持设备的屏幕），因此不会随页面滚动而移动。

#### 定位上下文

当设置元素的position为 relative absolute 或 fixed后，可以使用top right bottom left属性，相对于另一个元素移动该元素的位置——“另一个元素”即为元素的定位上下文。

- 绝对定位：绝对定位会相对于谁呢？——找 相对定位的祖先元素，如果没有找到，则是以body

### 显示属性（display）

display:

- inline
- block
- none——该元素及子元素，都不会在页面中显示，占据的控件也会被“回收”

visibility:

- visible——默认值
- hidden——元素会隐藏，但占据的页面空间仍在

### 背景

#### CSS背景属性

- background-color
- background-image
- background-repeat
- background-position
- background-size
- background-attachment
- background（简写）
- background-clip、background-origin、background-break等

#### 背景颜色（background-color）

设定的颜色会填充背景图层

#### 背景图片（background-image）

如：background-image: url(图片路径/图片名)

默认情况下背景图片会以元素左上角为起点，沿水平和垂直方向重复出现，最终填满整个背景区域。

#### 背景重复（background-repeat）

一共有4个值，默认值为repeat:

- repeat：水平、垂直方向都重复
- repeat-x：水平方向重复
- repeat-y：垂直方向重复
- no-repeat

另外，还有另外两个值，确认所有的图片都是完整的：

- round：通过调整图片大小来适应背景区域
- space：通过在图片间添加空白来适应背景区域

#### 背景位置（background-position）

有5个关键字：

- top
- left
- bottom
- right
- center

这些关键字任何两个组合都可以作为属性的值。

背景位置的值：

- 关键字
- 百分比
- 绝对或相对单位的数值

#### 背景尺寸（background-size）

#### 背景粘附（background-attachment）

控制滚动元素内的背景图片是否随元素滚动而滚动：默认值是scroll，即背景图片随元素滚动。设置为fixed，则不会随之滚动。

#### 简写背景属性

使用background来设定所有背景相关的值，如果某个属性未设置，则会使用对应的默认值。

#### 其他CSS3背景属性

- background-clip：控制背景绘制区域的范围。默认情况下，背景绘制区域会扩展到边框外边界
- background-origin：控制背景定位区域的远点，可以设定为元素盒子左上角以外的位置
- background-break：控制分离元素的显示效果

#### 多背景图片

> 产商前缀的问题需要引起注意

#### 背景渐变

渐变：在一定长度内两种或多种颜色之间自然的过渡。

是由CSS生成的**背景图片**——所以添加渐变可以使用background-image属性，当然简写形式也可以。

几个比较重要的点：

- 渐变点
- 放射性渐变
- 理解**角度**

### 小结

- 盒模型
- 内外边距、边框
- 浮动
- 定位和显示属性
- 背景层

## 字体和文本

### 字体

三个来源：

- 用户机器中安装的字体
- 保存在第三方网站上的字体——可使用link标签链接
- 保存在Web服务器上的字体——可使用@font-face规则

字体样式的相关属性：

- font-family
- font-size
- font-style
- font-weight
- font-variant
- font（简写属性）

字体 VS 文本？它们难道不是一回事么？

#### 字体族（font-family）

如：h2 { font-family: times, serif; }

font-family是可以继承的属性

通用的字体类：

- serif：衬线字体，在买个字符笔画的末端会有一些装饰线
- sans-serif：无衬线字体
- monospace：等宽字体
- cursive：草书体或手写体
- fantasy：其它字体

#### 字体大小（font-size）

font-size是可以继承的。

##### 绝对字体大小

使用像素、英寸等设定字体大小——绝对单位，设定了多少就是多少，与祖先元素的字体大小无关

##### 相对字体大小

使用百分比、em或rem——相对于最近的“被设定过字体大小”祖先元素来确定

##### 关于rem

相对于HTML根元素大小

#### 字体样式（font-style）

- italic
- oblique
- normal

font-style设定字体是斜体还是正体。

英文中的斜体主要表示强调——如果真想表示强调，使用<em>标签即可

#### 字体粗细（font-weight）

最好使用bold和normal这两个属性

#### 字体变化（font-variant）

- small-caps：所有小写英文字母变成小型大写字母
- normal

#### 简写字体属性（font）

简写形式规则：

- 必须声明font-size和font-family
- 所有制必须按如下顺序声明
  - font-weight font-style font-variant不分先后
  - 然后是font-size——这个时候也可以设置行高
  - 最后是font-family

### 文本属性

常用的CSS文本属性：

- text-indent
- letter-spacing
- word-spacing
- text-decoration
- text-align
- line-height
- text-transform
- vertical-align

#### 文本缩进（text-indent）

长度值（正负均可）

text-indent属性设定行内盒子相对于包含元素的起点——默认情况下，起点是包含元素的左上角。

#### 字符间距（letter-spacing）

任何长度值（正负均可）

letter-spacing为正值时增大字符间距，为负值时缩小间距——推荐使用相对单位

#### 单词间距（word-spacing）

任何长度值（正负均可）

单词间距与字符间距非常相似，区别在于只调整单词间距，而不影响字符间距——对中文网页几乎没有作用

#### 文本装饰符（text-decoration）

值：

- underline
- overline
- line-through
- blink
- none

#### 文本对齐（text-align）

值：

- left
- right
- center
- justify

#### 行高（line-height）

任何数字值（不用指定单位）

#### 文本转换（text-transform）

值：

- none
- uppercase
- lowercase
- capitalize

#### 垂直对齐（vertical-align）

值：

- 任意长度值
- sub
- super
- top
- midder
- bottom 等

vertical以基线为参照上下移动文本——只会影响行内元素

用于上下角标是个不错的应用

### Web字体大揭秘

#### 公共字体库

- Google Web Fonts
- Adobe 的 Typekit

#### 打包的@font-face包

有个问题是：不同浏览器要求的字体格式不一样

#### 生成@font-face包

### 文字板式

介绍如何使用上述介绍的样式来进行排版布局：

#### 简单的文本布局

#### 基于网格排版

#### 经典的排版练习

### 小结

- 字体属性
- 文本属性

## 页面布局

### 布局的基本概念

多栏布局有三种基本的实现方案：固定宽度、流动、弹性

- 固定宽度布局：大小不会随用户调整浏览器窗口大小而变化
- 流动布局：会随用户调整浏览器窗口大小而变化
- 弹性布局

#### 布局高度和布局宽度

- 布局高度：多数情况下，布局中结构化元素的高度是不必设定的
- 布局宽度：与高度不同，我们需要更精细地控制布局宽度

### 三栏——固定宽度布局

#### 为栏设定内边距和边框

- 为栏添加水平外边距和内边距，导致布局宽度增大，进而浮动栏下滑
- 在栏中添加大图片，或者没有空格的长字符串

### 三栏——中栏流动布局

实现三栏布局且让中栏内容区流动（不固定）的核心问题，就是处理右栏的定位，并在中栏内容区大小改变时控制右栏和布局的关系。

#### 用负外边距实现

#### 用CSS3单元格实现

### 多行多栏布局

#### CSS选择符的实际运用

（如果有必要，可以看选择符相关内容）

如何在达到页面效果的同时，保持HTML的清晰简洁，而CSS也将易读易维护。

#### 内部DIV实战

### 小结

- 浮动有宽度的元素实现多栏布局
- 利用表格行为创建多栏布局

## 界面组件

### 导航菜单

#### 纵向菜单

- 非首位子元素的特殊操作（上边框）
- 可点击区域大小修改

#### 横向菜单

#### 下拉菜单

### 表单

与其它页面元素不同——其它元素是把服务器发过来的内容显示给用户，而表单是把用户的信息发送给服务器

#### HTML表达元素

#### 表单标记策略

#### 设定表单样式

#### 设计搜索表单

### 弹出层

#### 堆叠上下文 和 z-index

#### 用CSS创造三角形

### 小结

- 菜单
- 表单
- 弹出层

## 总结
虽然这本书还有**CSS3实战**与**响应式设计**两个章节没有详看，不过依然在原有仅仅使用CSS的基础上学到了很多内容，了解到了很多本质。